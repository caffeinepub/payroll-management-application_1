{
  "kind": "build_request",
  "title": "Fix leave day calculation to count as 8 regular work hours",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "When a leave day is added to an employee in the employee calendar (via individual entry or bulk entry), calculate it as 8 hours of regular work and update the employee's payroll and leave balance accordingly",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Οταν προστιθεται \"αδεια\" σε εργαζομενο στο ημερολογιο εργαζομενων, η αδεια αυτη να υπλογιζεται σαν 8 ωρες κανονικης εργασιας και να ενηεμερωνεται η μισθοδοσια του εργαζομενου και οι αδειες του"
        ]
      },
      "acceptanceCriteria": [
        "For hourly employees: leave day adds 8 regular hours × hourly rate to payroll calculations",
        "For monthly employees: leave day deducts 1 day from total leave balance",
        "Leave balance is updated immediately when leave is added",
        "Payroll data reflects the leave day addition in salary calculations"
      ]
    },
    {
      "id": "REQ-2",
      "text": "For hourly employees, calculate leave day payment as 8 regular work hours multiplied by their hourly rate",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Στον ωριαιο εργαζομενο η προσθηλκη αδειας υπολογιζεται σαν 8 κανονικες ωρες εργασιας επι την ωριαια αμοιβη του"
        ]
      },
      "acceptanceCriteria": [
        "Hourly employee leave day = 8 hours × hourly_rate in payroll",
        "Leave balance decreases by 1 day for hourly employees"
      ]
    },
    {
      "id": "REQ-3",
      "text": "For monthly employees, deduct 1 day from their total leave balance when a leave day is added, without affecting salary calculation",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "στον μηνιαιο εργαζομενο απλα αφαιρειται μια ημερας αδειας απο την συνολικη του αδεια"
        ]
      },
      "acceptanceCriteria": [
        "Monthly employee leave day deducts 1 day from leave balance",
        "No hourly calculation for monthly employees on leave days",
        "Salary calculation for monthly employees remains unaffected by individual leave days"
      ]
    }
  ],
  "constraints": [
    "Do not modify any other application functionality",
    "Do not change the appearance or UI of the application",
    "Do not alter other calculations or features beyond leave day handling"
  ],
  "nonGoals": [
    "Modifying the calendar UI or layout",
    "Changing how work hours are entered or displayed",
    "Altering payment entry workflows",
    "Modifying employee management features",
    "Changing payroll display or reporting beyond leave calculations"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}